{
    "sourceFile": "assets/connect-remote.sh",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 5,
            "patches": [
                {
                    "date": 1726247114291,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1726247548447,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -26,9 +26,9 @@\n \n ELIXIR=\"'$(cat ${BASH_SOURCE%/*}/connect_remote.ex)'\"\n \n echo -n \"Creating tunnel...\"\n-ssh -f -o ExitOnForwardFailure=yes $USER_SERVER \\\n+ssh -f -v -o ExitOnForwardFailure=yes $USER_SERVER \\\n     -R $DOCKER_BRIDGE_IP:4369:127.0.0.1:4369 \\\n     -R $DOCKER_BRIDGE_IP:19000:127.0.0.1:19000 \"\\\n   echo 'Sleeping for 1 second to wait for local IEx session' &&\n   sleep 1 &&\n"
                },
                {
                    "date": 1726247569192,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -21,14 +21,14 @@\n REMOTE_NODE_NAME=$3\n \n : ${DOCKER_BRIDGE_IP:=172.17.0.1}\n : ${LOCAL_NODE_NAME:=my-laptop}\n-: ${ERLANG_COOKIE:=mycookie}\n+: ${ERLANG_COOKIE:=monster}\n \n ELIXIR=\"'$(cat ${BASH_SOURCE%/*}/connect_remote.ex)'\"\n \n echo -n \"Creating tunnel...\"\n-ssh -f -v -o ExitOnForwardFailure=yes $USER_SERVER \\\n+ssh -f -vvv -o ExitOnForwardFailure=yes $USER_SERVER \\\n     -R $DOCKER_BRIDGE_IP:4369:127.0.0.1:4369 \\\n     -R $DOCKER_BRIDGE_IP:19000:127.0.0.1:19000 \"\\\n   echo 'Sleeping for 1 second to wait for local IEx session' &&\n   sleep 1 &&\n"
                },
                {
                    "date": 1726247598894,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -26,9 +26,9 @@\n \n ELIXIR=\"'$(cat ${BASH_SOURCE%/*}/connect_remote.ex)'\"\n \n echo -n \"Creating tunnel...\"\n-ssh -f -vvv -o ExitOnForwardFailure=yes $USER_SERVER \\\n+ssh -f -o ExitOnForwardFailure=yes $USER_SERVER \\\n     -R $DOCKER_BRIDGE_IP:4369:127.0.0.1:4369 \\\n     -R $DOCKER_BRIDGE_IP:19000:127.0.0.1:19000 \"\\\n   echo 'Sleeping for 1 second to wait for local IEx session' &&\n   sleep 1 &&\n"
                },
                {
                    "date": 1726248017756,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,9 +27,9 @@\n ELIXIR=\"'$(cat ${BASH_SOURCE%/*}/connect_remote.ex)'\"\n \n echo -n \"Creating tunnel...\"\n ssh -f -o ExitOnForwardFailure=yes $USER_SERVER \\\n-    -R $DOCKER_BRIDGE_IP:4369:127.0.0.1:4369 \\\n+    -L $DOCKER_BRIDGE_IP:4369:127.0.0.1:4369 \\\n     -R $DOCKER_BRIDGE_IP:19000:127.0.0.1:19000 \"\\\n   echo 'Sleeping for 1 second to wait for local IEx session' &&\n   sleep 1 &&\n   echo -n 'Remote: connecting to remote node to local node...' &&\n"
                },
                {
                    "date": 1726248047906,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,9 +27,9 @@\n ELIXIR=\"'$(cat ${BASH_SOURCE%/*}/connect_remote.ex)'\"\n \n echo -n \"Creating tunnel...\"\n ssh -f -o ExitOnForwardFailure=yes $USER_SERVER \\\n-    -L $DOCKER_BRIDGE_IP:4369:127.0.0.1:4369 \\\n+    -R $DOCKER_BRIDGE_IP:4369:127.0.0.1:4369 \\\n     -R $DOCKER_BRIDGE_IP:19000:127.0.0.1:19000 \"\\\n   echo 'Sleeping for 1 second to wait for local IEx session' &&\n   sleep 1 &&\n   echo -n 'Remote: connecting to remote node to local node...' &&\n"
                }
            ],
            "date": 1726247114291,
            "name": "Commit-0",
            "content": "#!/bin/bash\nset -e\nif [ $# -ne 3 ] || [ \"$1\" == \"-h\" ]; then\n  echo \"Usage: $0 USER@SERVER CONTAINER_NAME NODE_NAME\"\n  echo\n  echo \"Creates a local IEx session that is connected to a remote node running under docker\"\n  echo\n  echo \"Be patient for it to start - it may take a couple of seconds\"\n  echo \"Once connected, you can type 'Nodes.list' in the IEx session to check your node\"\n  echo \"is connected.  And then ':observer.start' to view your remote node\"\n  echo\n  echo \"The following can be set via environment variables:\"\n  echo \" ERLANG_COOKIE - defaults to mycookie.  Must match what your remote node has configured.\"\n  echo \" DOCKER_BRIDGE_IP - defaults to 172.17.0.1\"\n  echo \" LOCAL_NODE_NAME - defaults to monster\"\n  exit\nfi\n\nUSER_SERVER=$1\nCONTAINER=$2\nREMOTE_NODE_NAME=$3\n\n: ${DOCKER_BRIDGE_IP:=172.17.0.1}\n: ${LOCAL_NODE_NAME:=my-laptop}\n: ${ERLANG_COOKIE:=mycookie}\n\nELIXIR=\"'$(cat ${BASH_SOURCE%/*}/connect_remote.ex)'\"\n\necho -n \"Creating tunnel...\"\nssh -f -o ExitOnForwardFailure=yes $USER_SERVER \\\n    -R $DOCKER_BRIDGE_IP:4369:127.0.0.1:4369 \\\n    -R $DOCKER_BRIDGE_IP:19000:127.0.0.1:19000 \"\\\n  echo 'Sleeping for 1 second to wait for local IEx session' &&\n  sleep 1 &&\n  echo -n 'Remote: connecting to remote node to local node...' &&\n  docker exec $CONTAINER \\\n    elixir --name temp@127.0.0.1 --cookie $ERLANG_COOKIE \\\n      -e $ELIXIR $REMOTE_NODE_NAME $LOCAL_NODE_NAME $DOCKER_BRIDGE_IP &&\n  sleep 5\n\"\necho \"Done\"\n\necho \"Creating local IEx session\"\niex --name $LOCAL_NODE_NAME@$DOCKER_BRIDGE_IP \\\n    --cookie $ERLANG_COOKIE \\\n    --erl \"-kernel inet_dist_listen_min 19000 inet_dist_listen_max 19000\"\n"
        }
    ]
}